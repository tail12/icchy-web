---
title: "ブログをNetlify&Gatsbyにしたマン"
category: "tech"
cover: photo-blog.jpg
author: いっちー
---

# はじめに
## Netlifyとは
Netlifyを知らない人のために解説しておきます。
Netlifyは、静的サイトをホスティングすることができるWebサービスのことです。

### Netlify何がいいの？
ここ1週間くらいNetlifyを使ってみて感じたいいところは次の4つです。

- 自動でSSL化される点
- `netlify.com`のサブドメインを自分で決めることができる点  
   (自分のブログも`icchy-blog.netlify.com`を利用しています)
- GitHubと連携してるので、masterにプッシュするとそのままブログを公開できる点
- 基本無料で使える点

自分で構築するってなると、SSL化を`Let's Encrypt`で行ったり、独自ドメインを自分で買って設定したりする必要があります。
SSL化するためにはそもそも独自ドメイン必須なので、イニシャルコストが発生します。

また、特に無料である点は大きいですね。
適当なサーバにWordPress環境を構築するにもConoHaのVPSだったりサクラだったりを利用する必要がある(無料のレンタルサーバも一応あるが速度が遅かったりするので除く)ので、どうしてもランニングコストが掛かります。

### Netlifyのここが惜しい
- 最初どうやって構築したらいいか分からなかった点
- ビルド時間が長い

とはいえ、どれも大した問題じゃなかったたため、このブログもNetlifyを利用しています。

--- 
## Gatsbyとは
GatsbyはReact制の静的サイトジェネレータと呼ばれるものです。
WordPressとの違いとしては、もちろん言語的な違い(PHPかJSか)もあるのですが、サイトが動的か静的かの違いもあります。

### 動的サイト？静的サイト？
ざっくりと、動的サイトか静的サイトかの違いとしては、
ユーザによって見るページの状態が異なるかどうかです。

例えば本ブログを例に上げると、
Aさんが見てもBさんが見ても、同じブログの記事・ページが表示されます。
つまりこれは、ユーザによって見るページの状態が変わらないので静的サイトに分類されます。

一方、Twitterはどうでしょうか。
見るユーザによって、表示されるタイムライン(TL)が異なります。
つまり、ユーザによって見るページの状態が変わるので動的サイトに分類されます。

## Netlify+Gatsbyは相性がいい説？
個人的にはすごく相性がいいと感じました。
Netlifyは静的サイトのホスティングサービスであり、Gatsbyは静的サイトのジェネレータです。

つまり、Gatsbyで静的サイトを生成して、Netlifyにデプロイすることで世界に公開することができます！

さらに、GitHubと連携することで、自動デプロイもしてくれるすぐれものです。
実際に実行するコマンドは、 `netlify.toml`というファイルに書き込むことで変更することができます。
僕は特に特別なことはしないので、`build`時に実行するコマンドと、公開するディレクトリを設定しているのみです！(メチャクチャ簡単)

```toml
[build]
  command = "npm run build"
  publish = "public/"
```

## 今後どうするか悩んでいること
- 画像重い問題

これですね。
トップページにパソコンのキーボードと画面が写っている画像があると思うんですが、トップページの画像が重いです。
圧縮していないので当たり前なのですが、現状写真を保存して、そのままアップしているだけなのでこうなってしまっています。

スマホなどで見ると、画像の重さが顕著に現れるので、いつかなんとかしたいwいつかw
知見ある人いたら、ぜひTwitterでもなんでもいいんでメッセージほしいです！
よろしくおねがいします。

# まとめ
- NetlifyとGatsbyは非常に相性がいいです！
  - 個人ブログレベルで、無料でやりたいけど、ちょっとだけデザインこりたいなぁ、でもWordPressはちょっと…という人はぜひ使ってみてほしいです。  
    まだアクセス数も全然ないので耐えてるだけかもしれないですが、今後仮にユーザが爆発的に増える時が来たらどうなるか気になりますw
  - そのために今年からブログをがんばります！
- 画像重い問題をなんとかしたいので知見ほしいです。
